<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Confirmación de Transacción</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background-color: #f4f4f9;
    }

    .container {
      margin-top: 50px;
    }

    .card {
      padding: 20px;
      text-align: center;
      border-radius: 20px;
      box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
    }

    .loteria-numeros {
      display: flex;
      gap: 15px;
      justify-content: center;
      margin-top: 15px;
    }

    .numero-loteria {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 55px;
      height: 55px;
      border-radius: 50%;
      background-color: #6c4a7d; /* Morado */
      color: #fff;
      font-size: 1.6em;
      font-weight: bold;
    }

    .btn-group {
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-6">
        <div class="card">
          <i class="fa-solid fa-circle-check fa-5x text-success mb-4"></i>
          <h1 class="card-title">¡Confirmación exitosa!</h1>
          <p class="card-text mt-3">Tu transacción se ha realizado con éxito.</p>
          <h3>Loteria Dorado</h3>
          <h4 class="mt-4">Puedes combinar estos numeros para ganar</h4>

          <div class="loteria-numeros mt-3" id="loteriaNumeros"></div>

          <h4 class="mt-4" id="loteriaSerie"></h4>

          <a href="index.html" class="btn btn-primary mt-4">
            <i class="fa-solid fa-arrow-left"></i> Volver al inicio
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- <script type="module">
    import { getComprasPorCurrency } from './assets/js/firebase.js';
  
    const userId = 'lLzQCmNotHNUehSKiJgMnfWo8zh2'; // Cambia esto por el ID del usuario que quieras consultar
    const currency = 'COP'; // Cambia esto por la currency que quieras filtrar
    
    const mostrarCompras = async () => {
      try {
        debugger
        const { usuarioData, compras } = await getComprasPorCurrency(userId, currency);
  
        // Obtener el contenedor de los números de lotería
        const loteriaContainer = document.getElementById('loteriaNumeros');
        loteriaContainer.innerHTML = ''; // Limpiar el contenido actual
  
        // Procesar cada compra
        compras.forEach(compra => {
          // Dividir el número en dígitos individuales
          const digitos = compra.numeroJugado.split('');
  
          // Crear un círculo para cada dígito
          digitos.forEach(digito => {
            const numeroDiv = document.createElement('div');
            numeroDiv.classList.add('numero-loteria');
            numeroDiv.textContent = digito; // Asigna el dígito al div
            loteriaContainer.appendChild(numeroDiv); // Añade el div al contenedor
          });
        });
  
        // Mostrar la serie si existe
        document.getElementById('loteriaSerie').textContent = `Serie: ${compras[0]?.serie || 'N/A'}`;
  
      } catch (error) {
        console.error('Error al obtener los datos:', error);
      }
    };
  
    // Llama a la función para mostrar compras cuando el documento esté listo
    document.addEventListener('DOMContentLoaded', mostrarCompras);
  </script> -->
  
  <script type="module" src="assets/js/confirmarPagos.js"></script>

  

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
